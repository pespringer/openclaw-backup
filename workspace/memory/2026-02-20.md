# 2026-02-20

- Created this daily log after compaction audit noted it was missing.

## Mission statement finalized
- Patrick approved final mission statement: "Create simple tools that save time and money—without becoming another thing to maintain." Added to SOUL.md.

## Daily proactive work blocks scheduled
- Added two daily proactive work block crons:
  - Afternoon: 2:00 PM ET
  - Night: 10:00 PM ET

## Headless browser validation requirement
- Patrick reiterated: now that headless Chromium/CDP is working, include UI validation via browser tool as part of story validation/testing before moving cards to Review.

## Mission Control: OpenClaw Wake fix after loopback-only gateway
- Patrick updated OpenClaw to 2026.02.19-2; gateway can no longer bind to NIC and is loopback-only.
- Mission Control "Wake" was failing because the container targeted ws://host.docker.internal:18789 and had an older openclaw CLI.
- Fix implemented:
  - `docker-compose.yml`: switched Mission Control app to `network_mode: host` so it can reach host loopback.
  - Set `OPENCLAW_GATEWAY_URL=ws://127.0.0.1:18789`.
  - Bound openclaw-bridge to `127.0.0.1:4000:4000` and updated app to use `OPENCLAW_BRIDGE_URL=http://127.0.0.1:4000`.
  - Added HOSTNAME=0.0.0.0 and PORT=3000 env to avoid binding issues.
  - `Dockerfile`: parameterized OpenClaw CLI install with `ARG OPENCLAW_VERSION` and pinned to 2026.02.19-2 in compose.
- Commit: 8749864 (Wake loopback fix).

## WORKFLOW_AUTO.md
- Created a generic WORKFLOW_AUTO.md in workspace to silence post-compaction audit alerts.

## Apex status indicator behavior
- Apex status in Mission Control is determined by client-side `window.fetch` monkey-patch/in-flight request counter with ~800ms idle settle.
- This causes frequent "idle/working" flips due to background polling.

## Mission Control workflow clarified (store this)
- Patrick re-stated the required story process:
  1) Pick story assigned to Apex from Backlog
  2) Move to In Progress + start work
  3) When done: commit, rebuild/redeploy (`docker compose down && docker compose up -d --build`), move to Review
  4) Validate: UI via headless browser if available, else Postgres/API
  5) Report success/failure so Patrick can validate and instruct move to Done
- Updated `MEMORY.md` to reflect this workflow explicitly.

## Fix: Projects board UI visibility for Apex account
- Found root cause: `/api/tasks` (and `[id]` + `search`) filtered non-admin tasks to `{ userId: user.id }`, which hid tasks opened by Patrick (`user1`) but assigned to Apex (`apex`).
- Fix: broaden scope for non-admin to allow tasks where OR(userId==me, openedById==me, assignedToId==me) for GET/list, GET/id, PUT/id, DELETE/id, and search.
- Commit: 54eadab (Auth: show tasks opened/assigned to user (fix board visibility)).

## Fix: Edit Task dialog actions hidden with long description
- Fix: make Radix DialogContent scrollable with max-height so footer/actions aren’t pushed off-screen.
- Change: `components/ui/dialog.tsx` added `max-h-[calc(100vh-2rem)] overflow-y-auto`.
- Commit: 1c9f9b6.
