# 2026-02-27

## Mission Control â€“ Search story (2104e1bc-625a-4cd3-a7f0-af86c8b50221)
- Work is on branch `feature/task-search-fts-autocomplete`.
- Implemented Postgres FTS-backed search endpoint `/api/tasks/search` with ranking across Task title/description and TaskComment bodies using `websearch_to_tsquery('english', q)` and `prisma.$queryRaw` (commit `2dd1ffb`).
- Added autocomplete endpoint `/api/tasks/suggest?q=` returning matching task titles (scoped by same visibility rules) (commit `2dd1ffb`).
- Added DB migration `20260226050000_task_search_fts` that introduces `searchVector` tsvector columns on `Task` and `TaskComment`, backfill, triggers to maintain them, and GIN indexes; also enables `pg_trgm` and adds trigram GIN index on `Task.title`.
- Added Projects UI autocomplete dropdown under the search input, calling `/api/tasks/suggest` with debounce; supports arrow keys/enter/escape and click selection (commit `aaaeba0`).
- Redeployed via `docker compose down && docker compose up -d --build` after UI changes.
- Remaining: validate UI behavior end-to-end; optionally improve suggest ordering to use trigram similarity ranking instead of updatedAt.
